<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gnostic Fusion Espiral</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Marcellus+SC&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="scene">
    <!-- Letters -->
    <span class="letter">G</span>
    <span class="letter">N</span>
    <span class="letter">O</span>
    <span class="letter">S</span>
    <span class="letter">T</span>
    <span class="letter">I</span>
    <span class="letter">C</span>
    <!-- Mantra -->
    <div id="mantra">Love is magic</div>
    <!-- Vortex circle -->
    <div id="vortex"></div>
  </div>
<script>
const letters = document.querySelectorAll('.letter');
const vortex = document.getElementById('vortex');
const mantra = document.getElementById('mantra');
const centerX = window.innerWidth / 2;
const centerY = window.innerHeight / 2;
const initialRadius = Math.min(window.innerWidth, window.innerHeight) / 3;
const duration = 3000;

// Position letters initially centered spaced evenly
letters.forEach((l, i) => {
  const spacing = 80;
  const x = centerX + (i - (letters.length - 1) / 2) * spacing;
  const y = centerY;
  const rect = l.getBoundingClientRect();
  l.style.left = (x - rect.width / 2) + 'px';
  l.style.top = (y - rect.height / 2) + 'px';
});

// Animate letters in spiral to center
let startTime = null;
function animateLetters(ts) {
  if (!startTime) startTime = ts;
  let t = (ts - startTime) / duration;
  if (t > 1) t = 1;
  letters.forEach((l, i) => {
    const initialAngle = (2 * Math.PI / letters.length) * i;
    const angle = initialAngle + 4 * Math.PI * t;
    const radius = initialRadius * (1 - t);
    const x = centerX + radius * Math.cos(angle);
    const y = centerY + radius * Math.sin(angle);
    const rect = l.getBoundingClientRect();
    l.style.left = (x - rect.width / 2) + 'px';
    l.style.top = (y - rect.height / 2) + 'px';
  });
  if (t < 1) {
    requestAnimationFrame(animateLetters);
  } else {
    startFusion();
  }
}

// Fuse letters into vortex
function startFusion() {
  letters.forEach(l => l.style.opacity = 0);
  vortex.style.opacity = 1;
  vortex.style.transform = 'translate(-50%, -50%) scale(0.2)';
  const growDuration = 800;
  let growStart = null;
  function grow(ts) {
    if (!growStart) growStart = ts;
    let p = (ts - growStart) / growDuration;
    if (p > 1) p = 1;
    const scale = 0.2 + p * 100;
    vortex.style.transform = `translate(-50%, -50%) scale(${scale})`;
    if (p < 1) {
      requestAnimationFrame(grow);
    }
  }
  requestAnimationFrame(grow);
}

// Start animation after a brief delay
setTimeout(() => requestAnimationFrame(animateLetters), 500);
</script>
</body>
</html>
